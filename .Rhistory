pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
lfg_df %>%
select(contains("T-shirt"))
nrow(lfg_df)
lfg_df %>%
select(contains("T-shirt")) %>%
rename(`Preferred T-shirt size:` = "tshirt")
lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirt" = `Preferred T-shirt size:`)
lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirt" = `Preferred T-shirt size:`)
count(tshirt)
lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirt" = `Preferred T-shirt size:`) %>%
count(tshirt)
group_df
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirt" = `Preferred T-shirt size:`) %>%
count(tshirt)
ts1
ts2
full_join(ts1, ts2)
left_join(ts1, ts2)
ts1
ts2
stack(ts1, ts2)
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirt" = `Preferred T-shirt size:`) %>%
count(tshirt)
tshirts = rbind(ts1, ts2)
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirt" = `Preferred T-shirt size:`) %>%
count(tshirt)
tshirts = rbind(ts1, ts2)
tshirts
ts1
ts2
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirts" = `Preferred T-shirt size:`) %>%
count(tshirts)
tshirts = rbind(ts1, ts2)
tshirts
tshirts %>%
count(tshirts)
tshirts %>%
group_by(tshirts) %>%
summarize(sum(n))
tshirts = rbind(ts1, ts2) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts
ts1
ts2
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirts" = `Preferred T-shirt size:`) %>%
count(tshirts)
tshirts = rbind(ts1, ts2) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts
?tribble
round(2.4)
round(2.5)
round(2.6)
round(2.51)
n = 25
addnl_tshirts = tribble(
~tshirts, ~total
"S", .1*n,
n = 25
addnl_tshirts = tribble(
~tshirts, ~total,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
)
addnl_shirts
addnl_tshirts
addnl_tshirts = tribble(
~tshirts, ~total,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
) %>%
round(total)
n = 25
addnl_tshirts = tribble(
~tshirts, ~total,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
) %>%
mutate(total = round(total))
n = 25
addnl_tshirts = tribble(
~tshirts, ~total,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
) %>%
mutate(total = round(total))
addnl_tshirts
tshirts = rbind(ts1, ts2, addnl_tshirts) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
n = 25
addnl_tshirts = tribble(
~tshirts, ~n,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
) %>%
mutate(n = round(n))
addnl_tshirts
tshirts = rbind(ts1, ts2, addnl_tshirts) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts
sum(tshirts$total)
238+25
tshirts = rbind(ts1, ts2) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts
sum(tshirts$total)
group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
nrow()
lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirts" = `Preferred T-shirt size:`) %>%
nrow()
186 + 50
group_df %>%
select(contains("Email")) %>%
select(-contains("Re-enter")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "emails") %>%
select(emails) %>%
filter(!is.na(emails)) %>%
distinct() %>%
nrow() %>%
cat("Unique number of group participants is: ", .)
lfg_df %>%
select(contains("Email")) %>%
select(1) %>%
distinct() %>%
nrow() %>%
cat("Unique number of individual participants is: ", .)
186 + 50
189 + 50
group_df %>%
select(contains("University")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "university") %>%
filter(!is.na(university)) %>%
mutate(isDuke = ifelse(university == "Duke University", "Duke", "Other")) %>%
count(isDuke)
lfg_df %>%
select(contains("University")) %>%
rename(university = `Name of College, University or Institution:`) %>%
mutate(isDuke = ifelse(university == "Duke University", "Duke", "Other")) %>%
count(isDuke)
104  + 27
23 + 82
105 + 131
tshirts = rbind(ts1, ts2, addnl_tshirts) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts
sum(tshirts$total)
260 -25
# check no duplicated emails
stopifnot(group_df %>%
select(contains("Email")) %>%
select(-contains("Re-enter")) %>%
pivot_longer(1:5, names_to = "delete", values_to = "emails") %>%
filter(!is.na(emails)) %>%
count(emails) %>%
filter(n > 1) %>%
nrow() == 0)
# grab all shirts
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirts" = `Preferred T-shirt size:`) %>%
count(tshirts)
tshirts = rbind(ts1, ts2) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts
sum(tshirts$total)
tshirts2 = rbind(tshirts, addnl_tshirts) %>%
group_by(tshirts)
# check no duplicated emails
stopifnot(group_df %>%
select(contains("Email")) %>%
select(-contains("Re-enter")) %>%
pivot_longer(1:5, names_to = "delete", values_to = "emails") %>%
filter(!is.na(emails)) %>%
count(emails) %>%
filter(n > 1) %>%
nrow() == 0)
# grab all shirts
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirts" = `Preferred T-shirt size:`) %>%
count(tshirts)
tshirts = rbind(ts1, ts2) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
n = 25
addnl_tshirts = tribble(
~tshirts, ~n,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
) %>%
mutate(n = round(n))
tshirts2 = rbind(tshirts, addnl_tshirts) %>%
group_by(tshirts)
tshirts
addnl_tshirts
n = 25
addnl_tshirts = tribble(
~tshirts, ~total,
"S", .1*n,
"M", .23*n,
"L", .31*n,
"XL", .23*n,
"XXL", .09*n
) %>%
mutate(total = round(total))
tshirts2 = rbind(tshirts, addnl_tshirts) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
tshirts2
tshirts2 = rbind(tshirts, addnl_tshirts)
tshirts2
# grab all shirts
ts1 = group_df %>%
select(contains("T-shirt")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "tshirts") %>%
select(tshirts) %>%
filter(!is.na(tshirts)) %>%
count(tshirts)
ts2 = lfg_df %>%
select(contains("T-shirt")) %>%
rename("tshirts" = `Preferred T-shirt size:`) %>%
count(tshirts)
tshirts = rbind(ts1, ts2) %>%
group_by(tshirts) %>%
summarize(total = sum(n))
N = 25
addnl_tshirts = tribble(
~tshirts, ~total,
"S", .1*N,
"M", .23*N,
"L", .31*N,
"XL", .23*N,
"XXL", .09*N
) %>%
mutate(total = round(total))
tshirts2 = rbind(tshirts, addnl_tshirts) %>%
group_by(tshirts) %>%
summarize(total = sum(total))
tshirts2
tshirts_participants = rbind(tshirts, addnl_tshirts) %>%
group_by(tshirts) %>%
summarize(total = sum(total))
tshirts_participants
sum(tshirts_participants$total)
sum(tshirts_participants$total) - 25
tshirts
tshirts
sum(tshirts_participants$total)
N = 40
staff_tshirts = tribble(
~tshirts, ~total,
"S", .1*N,
"M", .23*N,
"L", .31*N,
"XL", .23*N,
"XXL", .09*N
)
staff_tshirts
N = 40
staff_tshirts = tribble(
~tshirts, ~total,
"S", .1*N,
"M", .23*N,
"L", .31*N,
"XL", .23*N,
"XXL", .09*N
) %>%
mutate(total = round(total))
staff_tshirts
tshirts_participants
staff_tshirts
sum(staff_tshirts$total)
group_df %>%
select(contains("Dietary)"))
group_df %>%
select(contains("Dietary)"))
group_df
group_df %>%
select(contains("Diet)"))
group_df %>%
select(contains("Email)"))
glimpse(group_df)
group_df = read_csv("GroupRegistration2023.csv")
lfg_df = read_csv("LFG2023.csv")
group_df %>%
select(contains("Diet)"))
group_df %>%
select(contains("Diet)"))
group_df %>%
select(contains("Email"))
group_df %>%
select(contains("Diet"))
group_df %>%
select(contains("Diet"))
group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
filter(!is.na(diet))
group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
mutate(ifelse(is.na(diet), "No restrictions", diet))
count(diet)
group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
mutate(ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet)
group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
mutate(ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet) %>%
arrange(desc(n))
group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet) %>%
arrange(desc(n))
individual_food = lfg_df %>%
select(contains("Diet")) %>%
mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet)
lfg_df %>%
select(contains("Diet"))
lfg_df %>%
select(contains("Diet")) %>%
mutate(diet = ifelse(is.na(diet), "No restrictions", diet))
lfg_df %>%
select(contains("Diet"))
individual_food = lfg_df %>%
select(contains("Diet")) %>%
rename("diet" = `Dietary restrictions`) %>%
mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet)
individual_food
sum(individual_food$n)
individual_food = lfg_df %>%
select(contains("Diet")) %>%
rename("diet" = `Dietary restrictions`) %>%
mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet) %>%
arrange(desc(n))
individual_food
sum(group_food$n)
group_food = group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>%
count(diet) %>%
arrange(desc(n))
grouo_food$n
sum(group_food$n)
240 + group_food
group_food
group_food = group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
filter(!is.na(diet)) %>%
# mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>% #
# would also incorrectly count the non-existent group-members
count(diet) %>%
arrange(desc(n))
group_food
group_food = group_df %>%
select(contains("Diet")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "diet") %>%
select(diet) %>%
filter(!is.na(diet)) %>%
filter(diet != "None" & diet != "none") %>%
# mutate(diet = ifelse(is.na(diet), "No restrictions", diet)) %>% #
# would also incorrectly count the non-existent group-members
count(diet) %>%
arrange(desc(n))
group_food
individual_food
group_food
28 + 8 + 7 + 5 + 2 + 2 + 2 + 1 + 1
236 - 56
sum(individual_food$n) - 37
sum(group_food$n)
44 + 13
28 + 8 + 7 + 5 + 2 + 2 + 2 + 1 + 1
group_df %>%
select(contains("Email")) %>%
select(-contains("Re-enter")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "emails") %>%
select(emails) %>%
filter(!is.na(emails)) %>%
distinct() %>%
pull() %>% cat(sep = "; ")
lfg_df %>%
select(contains("Email")) %>%
select(1) %>%
distinct() %>%
pull() %>%
cat(sep = "; ")
lfg_df %>%
select(contains("Email")) %>%
select(1) %>%
distinct() %>%
pull() %>%
cat(sep = "\n")
group_df %>%
select(contains("Email")) %>%
select(-contains("Re-enter")) %>%
pivot_longer(1:5, names_to = "NULL", values_to = "emails") %>%
select(emails) %>%
filter(!is.na(emails)) %>%
distinct() %>%
pull() %>% cat(sep = "\n")
